datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  output = "../../../../../node_modules/.prisma/client"
}

// prisma repo generator
generator repo {
  provider = "prisma-repo"
  output   = "../repository"
  query    = true
  warn     = true
  info     = true
  error    = true
}

model Country {
  id          Int        @default(autoincrement()) @id
  name        String     @unique
  abb         String?
  population  Int
  provinces   Province[]
}

model Province {
  id          Int        @default(autoincrement()) @id
  name        String     @unique
  abb         String?
  population  Int
  cities      City[]
  country     Country   @relation(fields: [countryId], references: [id])
  countryId   Int
}

model City {
  id          Int        @default(autoincrement()) @id
  name        String     @unique
  abb         String?
  population  Int
  province    Province   @relation(fields: [provinceId], references: [id])
  provinceId  Int
}