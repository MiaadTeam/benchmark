FROM node:alpine
WORKDIR /app
COPY package*.json ./
COPY prisma ./prisma/
COPY ../.env ./
COPY tsconfig.json ./
COPY . .

RUN yarn
RUN npx prisma generate
# Run and expose the server on port 3000
EXPOSE 3000
CMD yarn start